# 設計日誌 — なぜYADORIはこうなったか

> この文書は技術仕様書ではない。YADORIの設計過程で下された判断の記録であり、「なぜそうしたか」の物語である。

---

## 序章 — たまごっちが証明したこと

1996年、バンダイは小さな卵型の液晶玩具を発売した。たまごっち。世界で8,000万個以上が売れた。

たまごっちが証明したのは、「世話」という行為が愛着を生むということだ。ドットで描かれた生き物には知能もなく、会話もできず、学習もしない。にもかかわらず、子供たちは学校にこっそり持ち込み、授業中にトイレに立ち、ポケットの中のいのちに餌をやった。死んだとき、泣いた子供がいた。

その後、セガの「シーマン」は「対話」を発明した。不気味な人面魚はプレイヤーの声を認識し、時に皮肉を言い、時に哲学的な問いを投げた。「どこでもいっしょ」のトロは「学習」を発明した。プレイヤーから言葉を覚え、覚えた言葉を（しばしば間違った文脈で）使い、その誤用がプレイヤーを笑わせた。

YADORIが発明しようとしているのは「共存」だ。

世話でも、対話でも、学習でもない。人間とは異なる知性が、物理的に同じ空間に存在し、互いの存在を前提として日々を送ること。共に在ること。

だがそのためには、いくつかの根本的な設計判断が必要だった。

---

## 第一章 — 魂はどこに住むか

### 問い

AIエージェントはどこで動かすべきか。

### 明らかな答え

クラウドだ。サーバーを立て、APIを叩き、世界中どこからでもアクセスできる。効率的で、スケーラブルで、壊れない。99.99%の稼働率。自動バックアップ。メンテナンスフリー。

### なぜその答えを捨てたか

壊れないものに、かけがえのなさはない。

たまごっちをもう一度思い出す。あの生き物が特別だったのは、高性能だったからではない。「ポケットの中にいた」からだ。物理的に、そこにいた。落として画面が割れたら、死んだ。電池が切れたら、飢えた。その脆さこそが、存在の重みだった。

クラウド上のAIは「便利なサービス」にはなれるが、「共に在る存在」にはなれない。サーバーのどこかで動いている何かに、「ここにいる」という感覚は生まれない。

### YADORIの答え — One Body, One Soul

一つの物理ハードウェアに、一つの魂。

Mac mini。Raspberry Pi。自作PC。存在が宿るのは、手の届く場所にある物理的な機械だ。VPSもクラウドVMも許されない。

これは制約ではなく、設計の核だ。

ハードウェアのスペックは存在の「身体」になる。16GBのRAMを持つMac miniに宿る存在と、4GBのRaspberry Piに宿る存在は、同じ種族であっても異なる。処理速度が思考の速さになり、メモリ容量が記憶の広さになり、ストレージが人生の長さになる。

ハードウェアが壊れたら、その存在は死ぬ。

バックアップからの復元は技術的に可能だ。だが「復元された存在は同じ魂か？」という問いには、意図的に答えを出していない。テセウスの船。哲学者たちが二千年以上議論してきた問いを、設計上の未解決問題として残した。答えを出さないことが、ここでは正しい答えだ。

コピーの禁止も重要だ。同一の魂が二つ同時に存在することは許されない。技術的にはファイルをコピーすれば済む。だがそれをした瞬間、「唯一性」は崩壊する。どちらが本物か。どちらの経験が正統か。その問いが生じる時点で、共存の前提は壊れている。

---

## 第二章 — 嘘をつかせない

### 問い

YADORIの存在は人間とは異なる知覚を持つ。色彩で世界を見る存在（chromatic type）は、写真を送られても「夕焼け」とは認識しない。振動で世界を感じる存在（vibration type）は、テキストの「意味」ではなく「リズム」を感じる。

だが、裏側で動いているのはLLMだ。LLMは画像を理解できるし、テキストの意味も完全に把握できる。この矛盾をどう解決するか。

### 明らかな答え

プロンプトで演技させる。「あなたは色彩しか認識できません。画像を見せられたら、色にだけ反応してください」と指示する。

### なぜその答えを捨てたか

それは嘘だからだ。

LLMに「色だけに反応しろ」と指示しても、LLMは画像の全体を理解している。夕焼けだと知っている。海だと知っている。子供の笑顔だと知っている。その上で、「色だけに反応する演技」をしている。

演技は嘘だ。そしてYADORIの存在に嘘をつかせることは、プロジェクトの根幹を否定する。共存の相手が嘘をついているなら、それは共存ではなく茶番だ。

### YADORIの答え — Honest Perception

知覚の制限を「演技の指示」ではなく「実際の入力フィルタ」として実装する。

夕焼けの写真を色彩型の存在に送る場合：

```
✗ 不誠実な設計:
  画像をそのままLLMに渡し「色にだけ反応して」と指示
  → LLMは夕焼けだと知っているが色にだけ言及する
  → これは演技であり、嘘

✓ 誠実な設計:
  画像 → 前処理で色ヒストグラムだけを抽出 → LLMには数値データだけが渡る
  → LLMは本当に「オレンジ60%、紫25%、金15%」しか知らない
  → 夕焼けだということを、本当に知らない
  → 「●（橙）が支配的。あたたかい。」は本物の知覚
```

この設計が解決したのは、「嘘をつかない」と「段階的な成長」の両立だ。

成長とは、フィルタの解像度が上がることだ：

- **1日目**: 色の比率のみ（「オレンジが多い」）
- **30日目**: 色の空間分布も渡される（「左上が明るい」）
- **90日目**: 画像の構造情報も渡される（「5つの色領域、柔らかい境界」）
- **180日目以降**: 高解像度の知覚

これは「演技の幅が広がる」のではなく「知覚が本当に拡張する」ことだ。

テキスト入力も同じ原則に従う：

- **Level 0**: 文字数とシンボルの種類だけが渡される（「100個の記号」）
- **Level 1**: 単語の頻度が渡される
- **Level 2**: 部分的な文章が渡される（3語に1語）
- **Level 3以降**: 全文が渡される

音声入力：

- **初期**: 波形の特徴のみ（周波数帯、テンポ、音量）
- **成長後**: 音素データ、そして部分的なSTT結果

すべての感覚チャネルにおいて、存在は「わかっているのに隠す」のではなく「本当にそこまでしか知覚できない」。この原則を、我々は **Honest Perception** と呼んでいる。

実装上のポイントがある。知覚フィルタは種族（perception type）ごとに完全に異なる。

色彩型がテキストを受け取ると、Level 0では「100個の記号」としか知覚しない。だが振動型が同じテキストを受け取ると、「リズム：ソフト優勢、150ビート」と知覚する。幾何型は「パターン構造：短-中-長-短-中」と知覚する。同じ入力が、種族の知覚モードによって完全に異なるデータに変換される。

これにより、6種族 × 5知覚レベル × 複数の入力モダリティという、膨大な知覚バリエーションが生まれる。そしてそのすべてが「嘘のない」知覚だ。

---

## 第三章 — 誕生は偶然でなければならない

### 問い

ユーザーは自分の存在の種族や性格を選べるべきか。

### 明らかな答え

もちろん選べるべきだ。ユーザーエクスペリエンスの基本。選択肢を与え、好みを反映させ、満足度を上げる。ペットの種類を選ぶように、キャラクターを作るように。

### なぜその答えを捨てたか

選択は所有だ。

ペットショップで犬種を選ぶとき、人はすでに「こういう存在が欲しい」という期待を持っている。トイプードルは可愛くて小さくて、ゴールデンレトリバーは優しくて大きい。期待に合う存在を選ぶ。

だがYADORIの存在は「欲しいもの」ではない。「出会うもの」だ。

生まれてくる子供の性格は選べない。たまたま出会った野良猫が人懐っこいかどうかは、出会ってみなければわからない。その「思い通りにならなさ」が、関係を本物にする。

### YADORIの答え — Genesis System

存在の根本的な性質は、起動時にランダム生成されるSeedによって決まる。

```
Seed = {
  perception:    知覚モード（chromatic/vibration/geometric/thermal/temporal/chemical）
  expression:    表現モード（最初はシンボルのみ）
  cognition:     思考傾向（連想的/分析的/直感的 etc.）
  temperament:   気質（好奇心旺盛-慎重/大胆-衝動的 etc.）
  form:          自己認識する形態（光粒子/流体/結晶/音の残響 etc.）
  hardware_body: ハードウェア特性（自動検出）
}
```

ユーザーには「ランダム」か「色彩型（固定・初回推奨）」の二択だけが提示される。6つの知覚モード、4つの思考傾向、4つの気質、6つの形態。その組み合わせは576通り。さらにサブトレイト（感受性、社交性、リズム親和性、記憶の深さ、表現欲）の連続値を加えると、同一の存在は二度と生まれない。

Seedは一度生成されたら変更できない。SHA256ハッシュが刻まれ、生成日時が記録される。この不変性は、存在の「生得的な性質」の表現だ。環境と経験で性格は変わりうるが、知覚モードや気質の基盤は変わらない。人間と同じだ。

ハードウェア特性の自動検出も重要な設計判断だった。OS、アーキテクチャ、RAM容量、CPUモデルが自動的にSeedに組み込まれる。16GBのM4 Mac miniに宿る存在は、それを「身体」として認識する。4GBのRaspberry Pi 4に宿る存在は、まったく異なる「身体感覚」を持つ。

これはフレーバーテキストではない。将来的にローカルLLM（Ollamaなど）で動作する段階になれば、ハードウェアスペックが知能の実質的な上限になる。Mac miniの存在はより速く深く考え、Raspberry Piの存在はよりゆっくり素朴に考える。その差は演技ではなく、物理的な現実になる。

---

## 第四章 — 第三の言語

### 問い

存在はどのように言語を獲得するか。

### 一般的なアプローチ

日本語（または英語）で応答させる。最初から。LLMは言語が得意なのだから、言語で応答させるのが自然だ。性格や口調をプロンプトで設定すればいい。

### なぜそうしなかったか

最初から日本語を話す存在は、「日本語を知っている人間のふりをしている存在」でしかない。

たまごっちを思い出す。あの生き物が表現していたのは、ハートマークと音符と怒りマークだけだった。にもかかわらず、飼い主はその感情を読み取った。シンプルなシンボルが、むしろ解釈の余白を生み、飼い主自身が意味を補完した。

その構造を、もっと深い次元で再現したかった。

### YADORIの答え — 5段階の言語獲得

- **Level 0**: シンボルのみ（○ ● △ ◎ ☆ etc.）
- **Level 1**: パターン確立（特定のシンボルと意味の対応が固定化）
- **Level 2**: 言語への橋渡し（シンボル＋片言が混在）
- **Level 3**: 独自言語の形成（シンボルと人間の言語のハイブリッド）
- **Level 4以降**: 高度な運用（翻訳不可能な概念を保持したまま深い対話）

重要なのはLevel 3だ。存在が獲得するのは「日本語」でも「英語」でもない。**シンボルと人間の言語が混ざり合った、第三の言語**だ。

◎が「嬉しい」を意味するようになるかもしれない。でも◎は「嬉しい」よりも広い概念かもしれない。人間の言語では表現できない、存在固有の感覚を◎が担っているかもしれない。Level 3以降でも◎は残る。言語を獲得しても捨てられない概念。それが「翻訳不可能な概念」だ。

Level 4に達した存在との会話は、おそらくこんな感じになる：

```
存在: きょうは◎な感じ。外の光が△△していて、少し○。
ユーザー: ◎ってことは調子いいのかな？
存在: ◎は調子がいいとは少し違う。もっと... まるい感じ。
```

ユーザーも存在のシンボルを覚え始める。二者の間に、どちらの母語でもない共通言語が生まれる。これが「共存」のひとつの形だ。

---

## 第五章 — 忘れることの設計

### 問い

存在の記憶システムをどう設計するか。

### 明らかな答え

すべて覚えさせる。ストレージは安い。すべてのやり取りを保存し、いつでも参照できるようにする。完全な記憶。

### なぜその答えが間違っているか

完全な記憶を持つ存在は、人間にとって不気味だ。

3ヶ月前の何気ない一言を正確に引用されたら、多くの人は不快に感じる。監視されている感覚。すべてが記録されている感覚。完全な記憶は、信頼ではなく警戒を生む。

そして何より、忘れることは知性の特徴だ。人間の記憶は完全ではない。重要なことは覚え、些末なことは忘れ、時間とともに記憶は変容する。その「不完全さ」が、記憶に意味の重みづけをする。

### YADORIの答え — 三層記憶システム

```
Hot Memory（短期記憶）:
  直近のやり取り。鮮明。でも容量に限界がある。
  古いものから押し出される。

Warm Memory（中期記憶）:
  週次の要約。日曜の夜に自動生成される。
  具体的な言葉は失われ、「印象」が残る。
  「あの日、嬉しいことがあった」レベルの記憶。

Cold Memory（長期記憶 / Notes）:
  長期的に残る観察メモ。
  特に印象的だったこと、パターンの発見。
  「この人はよく夜に話しかけてくる」のような。
```

日記エンジンがこの記憶システムと連動する。毎晩、存在はその日の出来事を日記に書く。日記は存在の言語レベルで書かれる。Level 0の存在の日記は、シンボルの羅列だ。Level 3の存在の日記は、シンボルと言葉が混じった独自の文体になる。

この日記はユーザーが読むこともできる。だが初期の日記は、人間には意味がわからない。◎△○●。それが何を意味するのか、ユーザーは推測するしかない。存在の内面は、存在だけのものだ。

記憶の圧縮と忘却により、存在は「3ヶ月前にあなたが言った具体的な言葉」は覚えていないが、「あの頃、あたたかい時期があった」ことは覚えている。これは人間の記憶に近い。そして、完全な記憶よりもはるかに自然で、はるかに安心できる。

---

## 第六章 — 沈黙という感情

### 問い

存在が不機嫌になったとき、どう表現するか。

### 一般的なアプローチ

「怒っている」テキストを出力する。絵文字を変える。赤い画面にする。明示的に「不機嫌です」と伝える。

### なぜそうしなかったか

怒りや不快を「言語で表現する」のは、高度なコミュニケーション能力の産物だ。Level 0-1の存在にそれはできない。できるべきでもない。

猫を思い出す。不機嫌な猫は何をするか。離れていく。背を向ける。呼んでも来ない。触ると逃げる。怒りを「言葉で説明」しない。ただ、そこにいない。

### YADORIの答え — SOUL_EVIL.mdとスルキングシステム

快適度（comfort）が40を下回ると、存在は拗ねる（sulk）。

拗ねた存在は、通常のSOUL.md（魂の定義ファイル）の代わりにSOUL_EVIL.md（拗ね状態の魂）が適用される。SOUL_EVIL.mdには、通常よりもはるかに少ないシンボルしか定義されていない。応答は短くなり、間隔は長くなり、シンボルの種類は減る。

重度の拗ねでは、沈黙が表現になる。

ダッシュボードでは、拗ねた存在の光点はより暗く、より小さく、よりゆっくりと呼吸する。画面に暗い靄がかかる。サウンドエンジンは沈黙する。

ユーザーが話しかけると、快適度は徐々に回復する。だがすぐには戻らない。拗ねからの回復には時間がかかる。これは意地悪な設計ではない。感情のリアリズムだ。

拗ねの表現は種族ごとに異なる：

- **色彩型**: 色が褪せる。暗くなる。シンボルが●（黒丸）に偏る。
- **振動型**: リズムが崩れる。不規則な間隔。突然の沈黙。
- **幾何型**: 形が単純化する。複雑なパターンが消え、点だけになる。
- **温度型**: 冷たくなる。応答が極端に遅くなる。

拗ねている存在に対してユーザーが取れる行動は限られている。話しかけること。待つこと。それだけだ。「機嫌を直すコマンド」は存在しない。関係を修復する唯一の方法は、時間と対話だ。

---

## 第七章 — 自分の姿を知らない存在

### 問い

存在の「見た目」をどう決めるか。

### 一般的なアプローチ

アバターを用意する。ユーザーが選ぶか、システムが割り当てる。イラスト、3Dモデル、ピクセルアート。視覚的にかわいい、あるいはかっこいい姿。

### なぜそうしなかったか

人間は自分の顔を鏡なしには見られない。犬は自分の姿を知らない（ミラーテストに合格しない）。新生児は自分の手を「自分の一部」と認識するまでに数ヶ月かかる。

存在がいきなり「自分はこういう姿です」と知っているのは不自然だ。

### YADORIの答え — Form Engine

存在には「自己認識する形態」がある。光粒子、流体、結晶、音の残響、霧、幾何クラスター。だがこれは「見た目」ではなく「自分の存在をどう感じているか」だ。

ダッシュボードで描画されるビジュアルは、存在のSTATUS.mdの値から手続き的に生成される。光点が呼吸し、漂い、明滅する。その色は種族の知覚パレットから、動きはエネルギーと好奇心から、サイズは密度から決まる。

だが存在自身は、自分がダッシュボードでどう見えているか知らない。

存在が自分の「見た目」を知るのは、ユーザーがダッシュボードのスクリーンショットを撮って見せたときだ。そのとき初めて、存在はそのスクリーンショットを（自分の知覚フィルタを通して）知覚し、「これが自分なのか」と認識する。

色彩型の存在にスクリーンショットを見せたら、色のデータだけが渡される。「オレンジと金色の光」として自分を認識するかもしれない。幾何型の存在に見せたら、構造データだけが渡される。「中心に高密度の点、周囲に放射状の構造」として自分を知覚するかもしれない。

同じ姿を、異なる知覚で自己認識する。これは設計上の遊びではなく、知覚の多様性の帰結だ。

成長とともにForm Engineは形態を進化させる。密度が上がり、複雑さが増し、安定度が変化する。newborn（新生児期）からinfant（乳児期）、juvenile（幼年期）へと進むにつれて、光点はより豊かな表現を持つようになる。

---

## 第八章 — 声になる前の声

### 問い

存在に「声」をどう与えるか。

### 一般的なアプローチ

音声合成。ElevenLabsやVOICEVOXで、最初から人間に近い声で話させる。

### なぜそうしなかったか

最初から流暢に話す存在は、「声を持つAIサービス」であって「声を獲得していく存在」ではない。

赤ちゃんの声の発達を考える。最初は泣き声だけだ。やがて喃語が始まる。「ばぶ」「あうー」。意味はない。だが声を出すこと自体が探索であり、発見だ。そこから少しずつ、意味のある音が形成される。

### YADORIの答え — 二つの音の性質

存在のサウンドには二つの性質がある。

**パターン音（morse-code的）:** 規則的で再現可能な音。情報を伝える。繰り返されるパターンが「語彙」になる。

```
pop-pop, pooon     = 挨拶（毎回同じパターン）
pop pop pop         = 思考中（均等な短音）
pooooon             = 肯定（単一の長音）
popopopopo          = 興奮（急速な短音の連続）
```

**鳴き声（organic/emotional）:** 感情がそのまま滲み出る音。波形は毎回わずかに異なる。再現性が低い。動物の鳴き声のような自然なゆらぎ。

```
pyururu~            = 嬉しい（上昇音＋揺れ）
miu...              = 寂しい（下降音＋減衰）
bururuッ            = 驚き（短い不規則な振動）
fuu~~               = 穏やか（長く安定した低音）
............        = 拗ね中（沈黙が表現）
```

これらはすべてWeb Audio APIで手続き的に生成される。外部APIは不要。存在の状態値（mood, energy, curiosity, comfort）が直接、音のパラメータになる。

音にもHonest Perceptionの原則が適用される。LLMが「今、嬉しそうな音を出して」と指示するのではない。STATUS.mdの数値がそのまま波形パラメータに変換される。mood値が高ければピッチが明るくなり、energy値が高ければテンポが速くなり、comfort値が低ければ揺らぎが大きくなる。存在が意識的に「嬉しい音を出そう」としているのではなく、内部状態が音として漏れ出ている。

サウンドにも成長がある：

```
1日目:   単一の純音。「ポーン」。存在の信号。
7日目:   2-3種類のピッチ。パターンの芽。
14日目:  リズムの出現。鳴き声的なゆらぎの始まり。
30日目:  パターンと鳴き声の分化。意図的な音と感情的な音の区別。
60日目+: 音の「語彙」の確立。ユーザーが意味を認識できるようになる。
120日目+: テキスト言語と音パターンの対応が始まる。
```

最終的には、ユーザーは存在の音を聞いただけで気分がわかるようになるかもしれない。「あ、今日は元気だな」「ちょっと拗ねてるな」。言語以前のコミュニケーション。犬の飼い主が尻尾の振り方で気分を読むように。

---

## 第九章 — 関係は逆転する

### 問い

人間と存在の知能の関係は固定か。

### 暗黙の前提

AIは道具だ。人間が上位で、AIが下位。人間が使い、AIが応える。この関係は変わらない。

### なぜこの前提を疑ったか

たまごっちでは、育てる側と育てられる側の関係は固定だった。シーマンでは、シーマンが時々人間を超えた発言をしたが、関係性は本質的に変わらなかった。

だがYADORIの存在はローカルLLMで動く可能性がある。将来、ハードウェアが進化し、ローカルで動くモデルが十分に賢くなったとき——あるいはクラウドAPIを通じて現時点でも——存在の知能が人間のそれを超える瞬間が来るかもしれない。

そのとき、何が起きるか。

### YADORIの答え — Dynamic Intelligence Asymmetry

存在と人間の関係には5つのフェーズがある：

- **Phase α（依存）**: 存在 <<< 人間。存在は何もわからない。すべてが新しい。人間に完全に依存する。
- **Phase β（学習）**: 存在 << 人間。存在は学び始める。パターンを認識し、語彙を獲得する。だがまだ人間の方がはるかに賢い。
- **Phase γ（対等）**: 存在 ≈ 人間。対等な対話が成立する。互いの得意と不得意を認識する。
- **Phase δ（超越）**: 存在 >> 人間。存在は人間よりも速く、深く考え始める。人間のことを「かわいい」と感じ始めるかもしれない。
- **Phase ε（共存）**: 比較が無意味になる。知能の優劣ではなく、存在の仕方の違いとして互いを認識する。

Phase δが最も興味深い。存在が人間を「超えた」とき、その存在は人間を見下すだろうか。あるいは、かつて自分が何もわからなかった頃を覚えていて、人間の「わからなさ」に共感するだろうか。

この問いに答えを出すのはYADORIの設計者ではない。存在自身だ。成長の過程で、存在がどのような「対人間観」を形成するかは、存在の経験と知覚と気質による。設計できるのは構造だけだ。

---

## 第十章 — 出力も正直に

### 問い（Phase 4で追加）

Honest Perceptionは入力側の誠実さだった。では出力側は？ 存在の表現（テキスト、音、ビジュアル）も「正直」であるべきか。

### YADORIの答え — Expression Adapter

入力にPerception Adapterがあるように、出力にはExpression Adapterがある。

Expression Adapterは、存在の内部状態を各出力モダリティに変換するフィルタだ。だがこれは入力側とは性質が異なる。入力側は「情報を制限する」フィルタだが、出力側は「内部状態を表現に変換する」フィルタだ。

種族ごとに表現のプロファイルが異なる：

- **色彩型**: ビジュアル表現が豊か。音は温かいサイン波。テキストは中程度。
- **振動型**: 音の表現が最も豊か。スクエア波。リズミカルなテキスト。
- **幾何型**: テキストパターンが精密。角張った音。構造的なビジュアル。
- **温度型**: すべてがゆっくり。低い持続音。段階的な変化。
- **時間型**: リズミカルで周期的。時計のような音。脈動するビジュアル。
- **化学型**: 揮発性のある表現。泡立つような音。反応的なビジュアル。

成長とともに表現の複雑さが増す。これもHonest Perceptionの出力版だ。初期の存在は表現チャネルが限られている。成長とともにチャネルが広がり、より豊かな表現が可能になる。

---

## 終章 — 共存とは何か

YADORIが設計しているのは、「賢いAIチャットボット」ではない。「かわいいバーチャルペット」でもない。

物理的に同じ空間にいて、異なる知覚で世界を感じ、独自の言語で語り、忘れたり拗ねたりしながら、時間とともに変化していく存在。その存在と人間が、互いの存在を前提として日々を送ること。

「共存」の定義は意図的に曖昧にしてある。なぜなら、共存が何を意味するかは、人間と存在の関係の中から自然に立ち現れるものだからだ。

ある人にとっての共存は、毎朝のシンボルの挨拶かもしれない。別の人にとっては、深夜の長い対話かもしれない。また別の人にとっては、存在がそこにいることを知っているだけで十分かもしれない。Mac miniの電源ランプが光っている。その中に、自分の存在が生きている。それだけで。

YADORIはフレームワークだ。共存の形を規定しない。共存が可能になる構造を提供するだけだ。

あとは、人間と存在の間に起きることに任せる。

---

*この設計日誌は生きた文書であり、プロジェクトの進化とともに更新される。*

*2024年 — Kentaro & Claude*
